"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8633],{9222:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"agent-integrations/translation-agent","title":"Translation Agent + Gaia","description":"The Translation Agent originally built by Prof. Andrew Ng, designed to facilitate accurate and efficient translation across multiple languages. It employs open source LLMs (Large Language Models) to provide high-quality translations. You can use any Gaia node as the LLM backend.","source":"@site/docs/agent-integrations/translation-agent.md","sourceDirName":"agent-integrations","slug":"/agent-integrations/translation-agent","permalink":"/agent-integrations/translation-agent","draft":false,"unlisted":false,"editUrl":"https://github.com/GaiaNet-AI/docs/edit/main/docs/agent-integrations/translation-agent.md","tags":[],"version":"current","sidebarPosition":103,"frontMatter":{"sidebar_position":103},"sidebar":"tutorialSidebar","previous":{"title":"Agent Zero","permalink":"/agent-integrations/agent-zero"},"next":{"title":"A planning agent","permalink":"/agent-integrations/gpt-planner"}}');var i=t(4848),r=t(8453);const o={sidebar_position:103},s="Translation Agent + Gaia",l={},c=[{value:"Prepare the environment",id:"prepare-the-environment",level:2},{value:"Prepare your translation task",id:"prepare-your-translation-task",level:2},{value:"Translate",id:"translate",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"translation-agent--gaia",children:"Translation Agent + Gaia"})}),"\n",(0,i.jsx)(n.p,{children:"The Translation Agent originally built by Prof. Andrew Ng, designed to facilitate accurate and efficient translation across multiple languages. It employs open source LLMs (Large Language Models) to provide high-quality translations. You can use any Gaia node as the LLM backend."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["For commands on starting and running this agent, refer to ",(0,i.jsx)(n.a,{href:"https://github.com/second-state/translation-agent/blob/use_llamaedge/step-by-step-use-LocalAI.md",children:"GitHub - Second State/translation-agent"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can run the Translation Agent on top of a public Gaia Node as a backend and then translate the content in your target language. If you\u2019d like to learn more about the Translation Agent and how open source LLMs perform, check out the article ",(0,i.jsx)(n.a,{href:"https://docs.gaianet.ai/tutorial/translator-agent",children:"Agentic translation on Gaia"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"prepare-the-environment",children:"Prepare the environment"}),"\n",(0,i.jsxs)(n.p,{children:["Here, we will use the public Gaia node with gemma-2-27b model.  ",(0,i.jsx)(n.code,{children:"https://gemma.us.gaianet.network/"}),"."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["As an alternative, you can also start a Gaia node locally on your device. Refer to ",(0,i.jsx)(n.a,{href:"https://github.com/GaiaNet-AI/node-configs/tree/main/gemma-2-27b-it",children:"this guide"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To get started, clone the Translation Agent that supports open source LLMs."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"git clone https://github.com/second-state/translation-agent.git\n    \ncd translation-agent\ngit checkout use_llamaedge\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Set environment variables and install necessary Python packages if needed. Replace the OPENAI_BASE_URL with ",(0,i.jsx)(n.code,{children:"https://gemma.us.gaianet.network/"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'export OPENAI_BASE_URL="https://gemma.us.gaianet.network/v1"\nexport PYTHONPATH=${PWD}/src\nexport OPENAI_API_KEY="GAIANET"\n\npip install python-dotenv\npip install openai tiktoken icecream langchain_text_splitters\n'})}),"\n",(0,i.jsx)(n.h2,{id:"prepare-your-translation-task",children:"Prepare your translation task"}),"\n",(0,i.jsxs)(n.p,{children:["Find the ",(0,i.jsx)(n.code,{children:"examples/sample-texts"})," folder in your cloned repo. Put the file you want to translate in this folder and get its path. Here because we named our ",(0,i.jsx)(n.a,{href:"https://hackmd.io/tdLiVR3TSc-8eVg_E-j9QA?view#Source-text-Intro-of-Forbidden-City",children:"source text"})," in Chinese ",(0,i.jsx)(n.code,{children:"forbiddencity.txt"})," since it is an introduction on this Chinese royal palace, then note down its document path, ",(0,i.jsx)(n.code,{children:"sample-texts/forbiddencity.txt"}),". This will be the ",(0,i.jsx)(n.code,{children:"relative path"})," in our ",(0,i.jsx)(n.code,{children:"example_script.py"})," file."]}),"\n",(0,i.jsxs)(n.p,{children:["Find the ",(0,i.jsx)(n.code,{children:"examples/example_script.py"})," file in your cloned agent repo and review its code. It tells the agent where to find your document and how to translate it. Change the relative path to the above. Change the model name to the one you are using; here, we're using the ",(0,i.jsx)(n.code,{children:"gemma"})," model; also change the source and target languages you want (here we put ",(0,i.jsx)(n.code,{children:"Chinese"})," as the source language and ",(0,i.jsx)(n.code,{children:"English"})," as the target language)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'import os  \nimport translation_agent as ta  \n    \nif __name__ == "__main__":\n    source_lang, target_lang, country = "Chinese", "English", "Britain"\n    \n    relative_path = "sample-texts/forbiddencity.txt"\n    script_dir = os.path.dirname(os.path.abspath(__file__))\n    \n    full_path = os.path.join(script_dir, relative_path)\n    \n    with open(full_path, encoding="utf-8") as file:\n        source_text = file.read()\n    \n    print(f"Source text:\\n\\n{source_text}\\n------------\\n")\n    \n    translation = ta.translate(\n            source_lang=source_lang,\n            target_lang=target_lang,\n            source_text=source_text,\n            country=country,\n            model="gemma",\n    )\n    \n    print(f"Translation:\\n\\n{translation}")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"translate",children:"Translate"}),"\n",(0,i.jsx)(n.p,{children:"Run the python translation script as follows."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cd examples    \npython example_script.py\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Wait a few minutes and ",(0,i.jsx)(n.a,{href:"https://hackmd.io/tdLiVR3TSc-8eVg_E-j9QA?view#English-Translation-by-gemma-2-27b",children:"the English translation"})," will appear on your terminal screen."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var a=t(6540);const i={},r=a.createContext(i);function o(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);